{"version":3,"sources":["../build/app.es6.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["let game = {};\n;class Creature {\n  constructor({position={x:0, y:0}, color='red', length=10, direction={x:1, y:0.5}}) {\n\n    this.currentPosition = position;\n    this.segmentPositions = [position];\n\n    this.color = color;\n    this.direction = direction;\n    this.length = length;\n  }\n\n  move() {\n    let newSegmentPosition = {\n      x: (this.currentPosition.x += this.direction.x),\n      y: (this.currentPosition.y += this.direction.y),\n    };\n    this.segmentPositions.unshift(newSegmentPosition);\n    if(this.segmentPositions.length > this.length) {\n      this.segmentPositions.pop();\n    }\n  }\n\n  radius() {\n    return 10+(this.length/10);\n  }\n\n  sprites() {\n    return this.segments();\n  }\n\n  segment(position) {\n    return new Sprite({\n      type: 'circle',\n      radius: this.radius(),\n      position: {x: position.x, y: position.y},\n      color: this.color\n    });\n  }\n\n  segments() {\n    let creature = this;\n    return this.segmentPositions.map(function(position){\n      return creature.segment(position);\n    });\n  }\n\n\n}\n;let engineService = () => {\n  let engine = {};\n\n  engine.initialize = ({canvas}) => {\n    engine.canvas = canvas;\n  };\n\n  engine.logCanvas = () => { console.log(engine.canvas); };\n\n  let renderService = () => {\n    let render = {};\n\n\n\n    let addSprite = (sprite, spriteMap) => {\n      console.log(sprite);\n      if(!spriteMap.has(sprite.color)){\n        spriteMap.set(sprite.color, []);\n      }\n      spriteMap.get(sprite.color).push(sprite);\n      console.log(spriteMap.get(sprite.color));\n    };\n\n    let addSprites = (sprites, spriteMap) => {\n      sprites.forEach((sprite)=>{\n        addSprite(sprite, spriteMap);\n      });\n    };\n\n\n\n    let entities = {\n      all: []\n    };\n\n    entities.sprites = () => {\n      let spritesMap = new Map();\n      entities.all.forEach((entity) => {\n        addSprites(entity.sprites(), spritesMap);\n      });\n      // console.log(spritesMap.values());\n      return spritesMap;\n    };\n\n    entities.update = () => {\n      entities.all.forEach((entity) => {\n        entity.move();\n      });\n    };\n\n    render.addEntity = (entity) => { entities.all.push(entity); };\n\n\n\n\n    render.update = () => {\n      entities.update();\n      let entitySpritesMap = entities.sprites();\n\n      let ctx = engine.canvas.getContext('2d');\n      let drawColorGroup = (sprites, color) => {\n        console.log(color);\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        sprites.forEach( (sprite) => {\n          sprite.draw(ctx);\n        });\n        ctx.fill();\n        ctx.closePath();\n      };\n      entitySpritesMap.forEach(drawColorGroup);\n    };\n\n\n\n    return render;\n  };\n\n  engine.render = renderService();\n\n  return engine;\n};\n\ngame.engine = engineService();\n;class Sprite {\n  constructor({type, position, color, radius=40}) {\n    switch(type) {\n      case 'circle':\n        this.draw = function(ctx) {\n          ctx.arc(this.position.x, this.position.y, this.radius, 0, 2*Math.PI);\n        };\n        break;\n    }\n    this.type = type;\n    this.position = position;\n    this.color = color;\n    this.radius = radius;\n  }\n}\n;var canvas = document.getElementById(\"slitherbots-canvas\");\n\nconsole.log(game);\n\ngame.engine.initialize({canvas: canvas});\ngame.engine.logCanvas();\n\nlet slitherbot = new Creature({position: {x:50, y:50}});\n\ngame.engine.render.addEntity(slitherbot);\n\n\nwindow.setInterval( () => {\n  window.requestAnimationFrame(game.engine.render.update);\n}, 500);\n\n/*\nvar ctx = c.getContext(\"2d\");\nctx.fillStyle = \"#FF0000\";\nctx.fillRect(0,0,150,75);\n*/\n"]}